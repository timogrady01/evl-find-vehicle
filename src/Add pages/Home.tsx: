
import { useState } from "react";
import SearchBar from "./SearchBar";
import { vehicles } from "../data/vehicles";

export default function Home() {
  const [query, setQuery] = useState("");
  const [makeFilter, setMakeFilter] = useState("");
  const [yearFilter, setYearFilter] = useState("");
  const [sortOption, setSortOption] = useState("");
  const [minPrice, setMinPrice] = useState("");
  const [maxPrice, setMaxPrice] = useState("");
  const [currentPage, setCurrentPage] = useState(1);
  const itemsPerPage = 6;

  const filteredVehicles = vehicles
    .filter(v =>
      `${v.make} ${v.model} ${v.trim}`.toLowerCase().includes(query.toLowerCase())
    )
    .filter(v => (makeFilter ? v.make === makeFilter : true))
    .filter(v => (yearFilter ? v.year.toString() === yearFilter : true))
    .filter(v => {
      const priceNum = parseInt(v.price.replace(/\$|,/g, ""));
      const min = minPrice ? parseInt(minPrice) : 0;
      const max = maxPrice ? parseInt(maxPrice) : Infinity;
      return priceNum >= min && priceNum <= max;
    });

  if (sortOption === "price") {
    filteredVehicles.sort((a, b) =>
      parseInt(a.price.replace(/\$|,/g, "")) - parseInt(b.price.replace(/\$|,/g, ""))
    );
  } else if (sortOption === "year") {
